groups:
  - name: embedding_drift_alerts
    rules:
      - alert: HighEmbeddingDrift
        expr: embedding_drift_score > 0.8
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High embedding drift detected"
          description: "Drift score {{ $value }} exceeds threshold for {{ $labels.model_name }}"

      - alert: ModelPerformanceDegradation
        expr: model_similarity_score < 0.7
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "Model performance degradation"
          description: "Similarity score {{ $value }} below threshold"

      - alert: EmbeddingServiceDown
        expr: up{job="embedding-drift-monitor"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Embedding drift monitor is down"
          description: "Service has been down for more than 1 minute"